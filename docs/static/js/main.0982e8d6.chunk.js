(window.webpackJsonpspaceballs=window.webpackJsonpspaceballs||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){"use strict";n.r(e);var r=n(4);function i(t){if(!t)throw new Error("Something terribly wrong");return t}var o=n(0),a=n.n(o),c=0;function s(t){var e=t.className,n=t.render,r=null;return Object(o.useEffect)((function(){if(r){var t=i(r.querySelector("canvas")),e=i(t.getContext("2d")),o=window.devicePixelRatio||1,a=++c;return function i(){c===a&&requestAnimationFrame((function(){!function(){if(r){var e=r.clientWidth,n=r.clientHeight-1;t.width!==e&&(t.width=e*o),t.height!==n&&(t.height=n*o);var i="".concat(e,"px"),a="".concat(n,"px");t.style.width!==i&&(t.style.width=i),t.style.height!==a&&(t.style.height=a)}}(),n(e),i()}))}(),function(){c++}}})),a.a.createElement("div",{className:e||"animation-canvas",style:{overflow:"hidden"},ref:function(t){return r=t}},a.a.createElement("canvas",null))}var l=n(1),u=n(2),h=function(){function t(e,n){Object(l.a)(this,t),this.x=e,this.y=n}return Object(u.a)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"polar",get:function(){return new f(Math.atan2(this.y,this.x),Math.sqrt(this.x*this.x+this.y*this.y))}}]),t}(),f=function(){function t(e,n){Object(l.a)(this,t),this.angle=e,this.radius=n}return Object(u.a)(t,[{key:"multiply",value:function(e){return new t(this.angle,this.radius*e)}},{key:"rotate",value:function(e){return new t(this.angle+e,this.radius)}},{key:"vector",get:function(){return new h(Math.cos(this.angle)*this.radius,Math.sin(this.angle)*this.radius)}}]),t}(),v=function(){function t(e){Object(l.a)(this,t),this.ctx=e}return Object(u.a)(t,[{key:"moveTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.moveTo(n.x,n.y)}},{key:"lineTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.lineTo(n.x,n.y)}}]),t}(),y=30,d=.75*Math.PI,p=Math.PI*(5/6),w=40;var b=function(){function t(e,n){Object(l.a)(this,t),this.position=e,this.mass=n}return Object(u.a)(t,[{key:"render",value:function(t){t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),t.fillStyle="#832",t.fill()}},{key:"radius",get:function(){return 10*this.mass}}]),t}(),m={};function g(t){return!!m[t]}document.addEventListener("keydown",(function(t){return m[t.key]=!0})),document.addEventListener("keyup",(function(t){return m[t.key]=!1}));var x=[];function k(t){t.preventDefault(),t.stopPropagation(),x=Array.from(t.touches)}var O=!0,P=!1,j=void 0;try{for(var E,T=["touchstart","touchend","touchmove"][Symbol.iterator]();!(O=(E=T.next()).done);O=!0){var S=E.value;document.addEventListener(S,k,{passive:!1})}}catch(F){P=!0,j=F}finally{try{O||null==T.return||T.return()}finally{if(P)throw j}}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var I="ontouchstart"in document.documentElement;var N=400,D={position:new h(400,0),velocity:new h(0,-2)},R=D,q=0,A=0,L=[],J=!1,W=[new b(new h(-200,-200),5),new b(new h(200,200),2)];function X(t,e,n){var r=t.position.polar.radius;if(!(r>e&&r>n)){var i=t.velocity,o=!0,a=!1,c=void 0;try{for(var s,l=W[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,h=t.position.subtract(u.position).polar;if(h.radius<u.radius)return;var v=u.mass*N/Math.pow(h.radius,2);i=i.add(new f(h.angle,-v).vector)}}catch(F){a=!0,c=F}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}return{position:t.position.add(i),velocity:i}}}function z(t){var e=new v(t),n=t.canvas.width,i=t.canvas.height;t.clearRect(0,0,n,i),t.save(),t.strokeStyle="white",t.translate(n/2,i/2),function(t,e){L.length=0,J=!1;for(var n=R,r=!1,i=0;i<1e4;i++){var o=X(n,t,e);if(!o)break;L.push(o.position);var a=(n=o).position.subtract(R.position).polar.radius>10;if(!a&&r){J=!0;break}r=a}}(n,i),L.length&&(t.strokeStyle="gray",t.beginPath(),t.moveTo(L[0].x,L[0].y),L.forEach((function(e){t.lineTo(e.x,e.y)})),J&&t.lineTo(L[0].x,L[0].y),t.stroke(),t.strokeStyle="white");var o=!0,a=!1,c=void 0;try{for(var s,l=W[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){s.value.render(t)}}catch(F){a=!0,c=F}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}t.save(),t.translate(R.position.x,R.position.y),t.rotate(q),function(t,e){t.ctx.beginPath(),t.moveTo(0,y),t.lineTo(d,y),t.lineTo(Math.PI,y/3),t.lineTo(-d,y),t.lineTo(0,y),t.ctx.fillStyle="#349",t.ctx.lineWidth=2,t.ctx.fill(),t.ctx.stroke(),e>0&&(t.ctx.beginPath(),t.moveTo(Math.PI,y/2),t.lineTo(p,w),t.lineTo(-p,w),t.lineTo(Math.PI,y/2),t.ctx.globalAlpha=e,t.ctx.fillStyle="#db0",t.ctx.fill())}(e,A),t.restore();var u=!1,b=x.length?{x:x[0].pageX,y:x[0].pageY}:void 0;if(b){var m=new h(b.x*window.devicePixelRatio-n/2,b.y*window.devicePixelRatio-i/2);q=m.subtract(R.position).polar.angle,u=!0}g("z")?q-=.05:g("x")&&(q+=.05),g("m")&&(u=!0),u?(R=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},R,{velocity:R.velocity.add(new f(q,.02).vector)}),A=1):A>0&&(A-=.1),R=X(R,n,i)||D}var B=n(5),C=n.n(B);n(11);C.a.render(a.a.createElement((function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"caption"},a.a.createElement("div",{className:"instructions"},I?"Tap the screen to fire your booster rocket in the direction of your finger.":"Press Z to rotate your ship anti-clockwise, X for clockwise. Press M to fire your booster rocket."),a.a.createElement("div",{className:"link"},a.a.createElement("a",{href:"https://github.com/danielearwicker/spaceballs/"},"Source"))),a.a.createElement(s,{render:z}))}),null),document.getElementById("root"))},6:function(t,e,n){t.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.0982e8d6.chunk.js.map