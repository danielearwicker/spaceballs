(window.webpackJsonpspaceballs=window.webpackJsonpspaceballs||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){"use strict";n.r(e);var i=n(4);function r(t){if(!t)throw new Error("Something terribly wrong");return t}var a=n(0),o=n.n(a),c=0;function s(t){var e=t.className,n=t.render,i=null;return Object(a.useEffect)((function(){if(i){var t=r(i.querySelector("canvas")),e=r(t.getContext("2d")),a=window.devicePixelRatio||1,o=++c;return function r(){c===o&&requestAnimationFrame((function(){!function(){if(i){var e=i.clientWidth,n=i.clientHeight-1;t.width!==e&&(t.width=e*a),t.height!==n&&(t.height=n*a);var r="".concat(e,"px"),o="".concat(n,"px");t.style.width!==r&&(t.style.width=r),t.style.height!==o&&(t.style.height=o)}}(),n(e),r()}))}(),function(){c++}}})),o.a.createElement("div",{className:e||"animation-canvas",style:{overflow:"hidden"},ref:function(t){return i=t}},o.a.createElement("canvas",null))}var l=n(1),u=n(2),h=function(){function t(e,n){Object(l.a)(this,t),this.x=e,this.y=n}return Object(u.a)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"polar",get:function(){return new f(Math.atan2(this.y,this.x),Math.sqrt(this.x*this.x+this.y*this.y))}}]),t}(),f=function(){function t(e,n){Object(l.a)(this,t),this.angle=e,this.radius=n}return Object(u.a)(t,[{key:"multiply",value:function(e){return new t(this.angle,this.radius*e)}},{key:"rotate",value:function(e){return new t(this.angle+e,this.radius)}},{key:"vector",get:function(){return new h(Math.cos(this.angle)*this.radius,Math.sin(this.angle)*this.radius)}}]),t}(),v=function(){function t(e){Object(l.a)(this,t),this.ctx=e}return Object(u.a)(t,[{key:"moveTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.moveTo(n.x,n.y)}},{key:"lineTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.lineTo(n.x,n.y)}}]),t}(),y=30,d=.75*Math.PI,p=Math.PI*(5/6),w=40;var b=50;var g={};function m(t){return!!g[t]}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}document.addEventListener("keydown",(function(t){return g[t.key]=!0})),document.addEventListener("keyup",(function(t){return g[t.key]=!1}));var k=2e3,O={position:new h(400,0),velocity:new h(0,-2)},P=O,j=0,E=0,T=[],M=!1;function S(t,e,n){var i=t.position.polar;if(!(i.radius<b||i.radius>e&&i.radius>n)){var r=k/Math.pow(i.radius,2),a=t.velocity.add(new f(i.angle,-r).vector);return{position:t.position.add(a),velocity:a}}}function I(t){var e=new v(t),n=t.canvas.width,r=t.canvas.height;t.clearRect(0,0,n,r),t.save(),t.strokeStyle="white",t.translate(n/2,r/2),function(t,e){T.length=0,M=!1;for(var n=P,i=!1,r=0;r<1e4;r++){var a=S(n,t,e);if(!a)break;T.push(a.position);var o=(n=a).position.subtract(P.position).polar.radius>10;if(!o&&i){M=!0;break}i=o}}(n,r),T.length&&(t.strokeStyle="gray",t.beginPath(),t.moveTo(T[0].x,T[0].y),T.forEach((function(e){t.lineTo(e.x,e.y)})),M&&t.lineTo(T[0].x,T[0].y),t.stroke(),t.strokeStyle="white"),function(t){t.beginPath(),t.arc(0,0,b,0,2*Math.PI),t.fillStyle="#832",t.fill()}(t),t.save(),t.translate(P.position.x,P.position.y),t.rotate(j),function(t,e){t.ctx.beginPath(),t.moveTo(0,y),t.lineTo(d,y),t.lineTo(Math.PI,y/3),t.lineTo(-d,y),t.lineTo(0,y),t.ctx.fillStyle="#349",t.ctx.lineWidth=2,t.ctx.fill(),t.ctx.stroke(),e>0&&(t.ctx.beginPath(),t.moveTo(Math.PI,y/2),t.lineTo(p,w),t.lineTo(-p,w),t.lineTo(Math.PI,y/2),t.ctx.globalAlpha=e,t.ctx.fillStyle="#db0",t.ctx.fill())}(e,E),t.restore(),m("z")?j-=.05:m("x")&&(j+=.05),m("m")?(P=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},P,{velocity:P.velocity.add(new f(j,.02).vector)}),E=1):E>0&&(E-=.1),P=S(P,n,r)||O}var N=n(5),D=n.n(N);n(11);D.a.render(o.a.createElement((function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"caption"},o.a.createElement("div",{className:"instructions"},"Press Z to rotate your ship anti-clockwise, X for clockwise. Press M to fire your booster rocket."),o.a.createElement("div",{className:"link"},o.a.createElement("a",{href:"https://github.com/danielearwicker/spaceballs/"},"Source"))),o.a.createElement(s,{render:I}))}),null),document.getElementById("root"))},6:function(t,e,n){t.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.9adb547a.chunk.js.map