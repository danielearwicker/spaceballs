(window.webpackJsonpspaceballs=window.webpackJsonpspaceballs||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){"use strict";n.r(e);var i=n(4);function r(t){if(!t)throw new Error("Something terribly wrong");return t}var o=n(0),a=n.n(o),c=0;function s(t){var e=t.className,n=t.render,i=null;return Object(o.useEffect)((function(){if(i){var t=r(i.querySelector("canvas")),e=r(t.getContext("2d")),o=window.devicePixelRatio||1,a=++c;return function r(){c===a&&requestAnimationFrame((function(){!function(){if(i){var e=i.clientWidth,n=i.clientHeight-1;t.width!==e&&(t.width=e*o),t.height!==n&&(t.height=n*o);var r="".concat(e,"px"),a="".concat(n,"px");t.style.width!==r&&(t.style.width=r),t.style.height!==a&&(t.style.height=a)}}(),n(e),r()}))}(),function(){c++}}})),a.a.createElement("div",{className:e||"animation-canvas",style:{overflow:"hidden"},ref:function(t){return i=t}},a.a.createElement("canvas",null))}var l=n(1),u=n(2),h=function(){function t(e,n){Object(l.a)(this,t),this.x=e,this.y=n}return Object(u.a)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"polar",get:function(){return new f(Math.atan2(this.y,this.x),Math.sqrt(this.x*this.x+this.y*this.y))}}]),t}(),f=function(){function t(e,n){Object(l.a)(this,t),this.angle=e,this.radius=n}return Object(u.a)(t,[{key:"multiply",value:function(e){return new t(this.angle,this.radius*e)}},{key:"rotate",value:function(e){return new t(this.angle+e,this.radius)}},{key:"vector",get:function(){return new h(Math.cos(this.angle)*this.radius,Math.sin(this.angle)*this.radius)}}]),t}(),y=function(){function t(e){Object(l.a)(this,t),this.ctx=e}return Object(u.a)(t,[{key:"moveTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.moveTo(n.x,n.y)}},{key:"lineTo",value:function(t,e){var n=new f(t,e).vector;this.ctx.lineTo(n.x,n.y)}}]),t}(),v=30,d=.75*Math.PI,p=Math.PI*(5/6),w=40;var b=function(){function t(e,n){Object(l.a)(this,t),this.position=e,this.mass=n}return Object(u.a)(t,[{key:"render",value:function(t){t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),t.fillStyle="#832",t.fill()}},{key:"radius",get:function(){return 10*this.mass}}]),t}(),m={};function g(t){return!!m[t]}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}document.addEventListener("keydown",(function(t){return m[t.key]=!0})),document.addEventListener("keyup",(function(t){return m[t.key]=!1}));var k=400,O={position:new h(400,0),velocity:new h(0,-2)},P=O,j=0,E=0,T=[],S=!1,M=[new b(new h(-200,-200),5),new b(new h(200,200),2)];function I(t,e,n){var i=t.position.polar.radius;if(!(i>e&&i>n)){var r=t.velocity,o=!0,a=!1,c=void 0;try{for(var s,l=M[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,h=t.position.subtract(u.position).polar;if(h.radius<u.radius)return;var y=u.mass*k/Math.pow(h.radius,2);r=r.add(new f(h.angle,-y).vector)}}catch(v){a=!0,c=v}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}return{position:t.position.add(r),velocity:r}}}function N(t){var e=new y(t),n=t.canvas.width,r=t.canvas.height;t.clearRect(0,0,n,r),t.save(),t.strokeStyle="white",t.translate(n/2,r/2),function(t,e){T.length=0,S=!1;for(var n=P,i=!1,r=0;r<1e4;r++){var o=I(n,t,e);if(!o)break;T.push(o.position);var a=(n=o).position.subtract(P.position).polar.radius>10;if(!a&&i){S=!0;break}i=a}}(n,r),T.length&&(t.strokeStyle="gray",t.beginPath(),t.moveTo(T[0].x,T[0].y),T.forEach((function(e){t.lineTo(e.x,e.y)})),S&&t.lineTo(T[0].x,T[0].y),t.stroke(),t.strokeStyle="white");var o=!0,a=!1,c=void 0;try{for(var s,l=M[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){s.value.render(t)}}catch(u){a=!0,c=u}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}t.save(),t.translate(P.position.x,P.position.y),t.rotate(j),function(t,e){t.ctx.beginPath(),t.moveTo(0,v),t.lineTo(d,v),t.lineTo(Math.PI,v/3),t.lineTo(-d,v),t.lineTo(0,v),t.ctx.fillStyle="#349",t.ctx.lineWidth=2,t.ctx.fill(),t.ctx.stroke(),e>0&&(t.ctx.beginPath(),t.moveTo(Math.PI,v/2),t.lineTo(p,w),t.lineTo(-p,w),t.lineTo(Math.PI,v/2),t.ctx.globalAlpha=e,t.ctx.fillStyle="#db0",t.ctx.fill())}(e,E),t.restore(),g("z")?j-=.05:g("x")&&(j+=.05),g("m")?(P=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},P,{velocity:P.velocity.add(new f(j,.02).vector)}),E=1):E>0&&(E-=.1),P=I(P,n,r)||O}var D=n(5),q=n.n(D);n(11);q.a.render(a.a.createElement((function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"caption"},a.a.createElement("div",{className:"instructions"},"Press Z to rotate your ship anti-clockwise, X for clockwise. Press M to fire your booster rocket."),a.a.createElement("div",{className:"link"},a.a.createElement("a",{href:"https://github.com/danielearwicker/spaceballs/"},"Source"))),a.a.createElement(s,{render:N}))}),null),document.getElementById("root"))},6:function(t,e,n){t.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.8a7e55e5.chunk.js.map